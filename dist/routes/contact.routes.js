"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const contacts_controller_1 = require("../controllers/contacts.controller");
const middlewares_1 = require("../middlewares");
const contact_schemas_1 = require("../schemas/contact.schemas");
const contactRouter = (0, express_1.Router)();
contactRouter.post('', (0, middlewares_1.validateSchemaMiddleware)(contact_schemas_1.createContactSchema), middlewares_1.verifyTokenIsValidMiddleware, middlewares_1.verifyContactIsNotDuplicatedMiddleware, contacts_controller_1.createContactController);
contactRouter.get('', middlewares_1.verifyTokenIsValidMiddleware, contacts_controller_1.listContactsController);
contactRouter.get('/:id', middlewares_1.verifyTokenIsValidMiddleware, middlewares_1.verifyUserExists, middlewares_1.verifyContactExists, middlewares_1.verifyAuthorizationMiddleware, contacts_controller_1.retrieveContactController);
contactRouter.patch('/:id', middlewares_1.verifyTokenIsValidMiddleware, middlewares_1.verifyUserExists, middlewares_1.verifyContactExists, middlewares_1.verifyAuthorizationMiddleware, middlewares_1.verifyContactPhoneNumberIsValid, middlewares_1.verifyContactEmailIsValid, contacts_controller_1.updateContactController);
contactRouter.delete('/:id', middlewares_1.verifyTokenIsValidMiddleware, middlewares_1.verifyUserExists, middlewares_1.verifyContactExists, middlewares_1.verifyAuthorizationMiddleware, contacts_controller_1.deleteContactController);
exports.default = contactRouter;
